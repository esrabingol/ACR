@using ACR.Entity.Concrete;
@{
	ViewData["Title"] = "Reservations";
	Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}


<div class="container-fluid">

	<div class="card mb-4">
		<div class="card-header">
			<i class="fas fa-table mr-1"></i>
			Rezervasyon Bilgi Tablosu
		</div>
		<div class="card-body">
			<div class="table-responsive">
				<table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
					<thead>
						<tr>
							<th>Randevu Durumu</th>
							<th>Son Güncelleme</th>
							<th>Tezgah Adı</th>
							<th>Proje Adı</th>
							<th>Parça Adı</th>
							<th>Reçete Kodu</th>
							<th>Başlangıç Tarihi</th>
							<th>Bitiş Tarihi</th>
							<th>Talep Eden Notu</th>
							<th>Randevu İptal Nedeni</th>
							<th>Talep Eden</th>
							<th>Operatör</th>
						</tr>
					</thead>
					<tfoot>
						<tr>
							<th>Randevu Durumu</th>
							<th>Son Güncelleme</th>
							<th>Tezgah Adı</th>
							<th>Proje Adı</th>
							<th>Parça Adı</th>
							<th>Reçete Kodu</th>
							<th>Başlangıç Tarihi</th>
							<th>Bitiş Tarihi</th>
							<th>Talep Eden Notu</th>
							<th>Randevu İptal Nedeni</th>
							<th>Talep Eden</th>
							<th>Operatör</th>
						</tr>
					</tfoot>
					<tbody>


						@foreach (var result in Model.Results)
						{
							<tr>
					
								<td>
									@if (result.Status != null)
									{
										if (@result.Status == ReservationStatusType.Pending)
										{
											<span class="badge badge-primary">Beklemede</span>
										}
										else if (@result.Status == ReservationStatusType.Confirmed)
										{
											<span class="badge badge-success">Onaylandı</span>
										}
										else if (@result.Status == ReservationStatusType.Cancelled)
										{
											<span class="badge badge-danger">İptal Edildi</span>
										}
										else
										{
											<span class="badge badge-warning">Geçersiz Durum</span>
										}
									}
								</td>
								<td>@result.UpdateDate</td>
								<td>@result.MachineName</td>
								<td>@result.ProjectName</td>
								<td>@result.PartName</td>
								<td>@result.RecipeCode</td>
								<td>@result.StartDate.ToString("dd-MM-yyyy HH:mm")</td>
								<td>@result.EndDate.ToString("dd-MM-yyyy HH:mm")</td>
								<td>
									@if (result.RequestNote == null)
									{
										<span>-</span>
									}
									else
									{
										@result.RequestNote
									}
								</td>
								<td>
									@if (result.CancellationNote == null)
									{
										<span>-</span>
									}
									else
									{
										@result.CancellationNote
									}
								</td>
								<td>@result.Requester?.Name @result.Requester?.Surname</td>
								<td>@result.Operator?.Name @result.Operator?.Surname</td>
							</tr>
						}

					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>


